

Get connetors:


curl 'http://localhost:8080/openidm/system?_action=availableConnectors' -X POST -H 'Pragma: no-cache' -H 'Origin: http://localhost:8080' -H 'Accept-Encoding: gzip, deflate' -H 'Accept-Language: en-US,en;q=0.8' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.116 Safari/537.36' -H 'Content-Type: application/json' -H 'Accept: application/json, text/javascript, */*; q=0.01' -H 'Cache-Control: no-cache' -H 'X-Requested-With: XMLHttpRequest' -H 'Cookie: session-jwt=eyAidHlwIjogIkpXVCIsICJlbmMiOiAiQTEyOENCQ19IUzI1NiIsICJhbGciOiAiUlNBRVNfUEtDUzFfVjFfNSIgfQ.qfdRld26ddLcknJE4kQ-BX1mrbkdIWlTzUB4lalSIHdyCOtI3VPnsJsYsF9cV7d-xn6i7GZn2rzZHtUl7M-Ija73nEzg3Wcsgf716-hVXDiwdzMwY0rR1J26vd2MnFOJy7dO4ZZsrXS51Q8W9pFmBiK_yt6H4fU0L13rQ_1NjZY1QrFyyZN8VBerYHgfGfZfzAwZIKnXCJeq1yKZ37mUJghbElWG_Nxt1cpAIHrcaHvlL4Sr1q7-PqArNTkP-uhi5oglPfeiuFWoFfQcOR32FwUpjzzwFcInRQ4Va0R8quv59nIxbw-E115SEOZRkXaaUMjdSaBjaqlDBCJwE39UgA.L5jcopxbcjy-7c88OEs7RQ.Wir_Jagk2luod2leLW1kAJV4trlI4wE_yDq6eYaoLgrjJDLYkImyuv7XNCdsVpPnb0Fyprg2TlNjdrusL1JhcmQjTMt92rWzvMZiYjJlCJPhtvwwFhbc-CQ7iqbiskHl8mxzRv4ipDu3YUqy_z5piFIaP70PPnlslU3e46v0nYe-s2iudA5xc2P9crQ0mjgVCvQIK0msynbtxARYvvq1FexzsR_AdtpL9RR8gxkQqLANb977Z4GKjaPFgFr0fhZf2cN3bGNUfBP8qghwS0M2tFAppINMmxEYmBIMQqNCKUVll-PStxXV80908NHfG1j8DF0OkGwbw15cka5kpV9d554j3Dr9vaYVKBe4LLG0FZLMZTuqwcA4nZ0TQAYJf3h1ZAEtEHXQPnV33S9CR5-oFrrKeYVxCDbT7pQP0ScZhBgi0MdFo_6eJwa3ZaLSFIMZvntz9vNJ-QDjT8PNa1bh_O0akYDEDB74EdMjgHtjyGNVBprL9yPz5nA-qlQbz7ijzUf9OKj1E-jv--WIzwbGBWlYdG6W89Z8B1ZIZlC7oJw.YOG6UJNwjTiKKkJXyBR1wQ; i18next=en' -H 'Connection: keep-alive' -H 'Referer: http://localhost:8080/admin/' -H 'Content-Length: 0' -H 'DNT: 1' --compressed

Response:

{"connectorRef":[{"systemType":"provisioner.openicf","bundleName":"org.forgerock.openicf.connectors.xml-connector","connectorName":"org.forgerock.openicf.connectors.xml.XMLConnector","displayName":"XML Connector","bundleVersion":"1.1.0.2"},{"systemType":"provisioner.openicf","bundleName":"org.forgerock.openicf.connectors.ldap-connector","connectorName":"org.identityconnectors.ldap.LdapConnector","displayName":"LDAP Connector","bundleVersion":"1.4.1.0"},{"systemType":"provisioner.openicf","bundleName":"org.forgerock.openicf.connectors.groovy-connector","connectorName":"org.forgerock.openicf.connectors.scriptedsql.ScriptedSQLConnector","displayName":"Scripted SQL Connector","bundleVersion":"1.4.2.0"},{"systemType":"provisioner.openicf","bundleName":"org.forgerock.openicf.connectors.groovy-connector","connectorName":"org.forgerock.openicf.connectors.scriptedrest.ScriptedRESTConnector","displayName":"Scripted REST Connector","bundleVersion":"1.4.2.0"},{"systemType":"provisioner.openicf","bundleName":"org.forgerock.openicf.connectors.groovy-connector","connectorName":"org.forgerock.openicf.connectors.scriptedcrest.ScriptedCRESTConnector","displayName":"Scripted CREST Connector","bundleVersion":"1.4.2.0"},{"systemType":"provisioner.openicf","bundleName":"org.forgerock.openicf.connectors.groovy-connector","connectorName":"org.forgerock.openicf.connectors.groovy.ScriptedPoolableConnector","displayName":"Scripted Poolable Groovy Connector","bundleVersion":"1.4.2.0"},{"systemType":"provisioner.openicf","bundleName":"org.forgerock.openicf.connectors.groovy-connector","connectorName":"org.forgerock.openicf.connectors.groovy.ScriptedConnector","displayName":"Scripted Groovy Connector","bundleVersion":"1.4.2.0"},{"systemType":"provisioner.openicf","bundleName":"org.forgerock.openicf.connectors.databasetable-connector","connectorName":"org.identityconnectors.databasetable.DatabaseTableConnector","displayName":"Database Table Connector","bundleVersion":"1.1.0.1"},{"systemType":"provisioner.openicf","bundleName":"org.forgerock.openicf.connectors.csvfile-connector","connectorName":"org.forgerock.openicf.csvfile.CSVFileConnector","displayName":"CSV File Connector","bundleVersion":"1.5.0.0"}]}



Get test connector

curl 'http://localhost:8080/openidm/config/provisioner.openicf/testcsv' -H 'Pragma: no-cache' -H 'DNT: 1' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.116 Safari/537.36' -H 'Content-Type: application/json' -H 'Accept: application/json, text/javascript, */*; q=0.01' -H 'Cache-Control: no-cache' -H 'X-Requested-With: XMLHttpRequest' -H 'Cookie: session-jwt=eyAidHlwIjogIkpXVCIsICJlbmMiOiAiQTEyOENCQ19IUzI1NiIsICJhbGciOiAiUlNBRVNfUEtDUzFfVjFfNSIgfQ.qfdRld26ddLcknJE4kQ-BX1mrbkdIWlTzUB4lalSIHdyCOtI3VPnsJsYsF9cV7d-xn6i7GZn2rzZHtUl7M-Ija73nEzg3Wcsgf716-hVXDiwdzMwY0rR1J26vd2MnFOJy7dO4ZZsrXS51Q8W9pFmBiK_yt6H4fU0L13rQ_1NjZY1QrFyyZN8VBerYHgfGfZfzAwZIKnXCJeq1yKZ37mUJghbElWG_Nxt1cpAIHrcaHvlL4Sr1q7-PqArNTkP-uhi5oglPfeiuFWoFfQcOR32FwUpjzzwFcInRQ4Va0R8quv59nIxbw-E115SEOZRkXaaUMjdSaBjaqlDBCJwE39UgA.L5jcopxbcjy-7c88OEs7RQ.Wir_Jagk2luod2leLW1kAJV4trlI4wE_yDq6eYaoLgrjJDLYkImyuv7XNCdsVpPnb0Fyprg2TlNjdrusL1JhcmQjTMt92rWzvMZiYjJlCJPhtvwwFhbc-CQ7iqbiskHl8mxzRv4ipDu3YUqy_z5piFIaP70PPnlslU3e46v0nYe-s2iudA5xc2P9crQ0mjgVCvQIK0msynbtxARYvvq1FexzsR_AdtpL9RR8gxkQqLANb977Z4GKjaPFgFr0fhZf2cN3bGNUfBP8qghwS0M2tFAppINMmxEYmBIMQqNCKUVll-PStxXV80908NHfG1j8DF0OkGwbw15cka5kpV9d554j3Dr9vaYVKBe4LLG0FZLMZTuqwcA4nZ0TQAYJf3h1ZAEtEHXQPnV33S9CR5-oFrrKeYVxCDbT7pQP0ScZhBgi0MdFo_6eJwa3ZaLSFIMZvntz9vNJ-QDjT8PNa1bh_O0akYDEDB74EdMjgHtjyGNVBprL9yPz5nA-qlQbz7ijzUf9OKj1E-jv--WIzwbGBWlYdG6W89Z8B1ZIZlC7oJw.YOG6UJNwjTiKKkJXyBR1wQ; i18next=en' -H 'Connection: keep-alive' -H 'Referer: http://localhost:8080/admin/' --compressed

Response:
{"_id":"provisioner.openicf/testcsv","connectorRef":{"systemType":"provisioner.openicf","bundleName":"org.forgerock.openicf.connectors.csvfile-connector","connectorName":"org.forgerock.openicf.csvfile.CSVFileConnector","displayName":"CSV File Connector","bundleVersion":"1.5.0.0"},"poolConfigOption":{"maxObjects":10,"maxIdle":10,"maxWait":150000,"minEvictableIdleTimeMillis":120000,"minIdle":1},"resultsHandlerConfig":{"enableNormalizingResultsHandler":true,"enableFilteredResultsHandler":true,"enableCaseInsensitiveFilter":false,"enableAttributesToGetSearchResultsHandler":true},"operationTimeout":{"CREATE":-1,"UPDATE":-1,"DELETE":-1,"TEST":-1,"SCRIPT_ON_CONNECTOR":-1,"SCRIPT_ON_RESOURCE":-1,"GET":-1,"RESOLVEUSERNAME":-1,"AUTHENTICATE":-1,"SEARCH":-1,"VALIDATE":-1,"SYNC":-1,"SCHEMA":-1},"configurationProperties":{"headerPassword":"password","headerName":"username","csvFile":"/var/tmp/test.csv","newlineString":"\n","headerUid":"uid","quoteCharacter":"\"","fieldDelimiter":",","syncFileRetentionCount":"3","readSchema":false},"name":"testcsv","enabled":true,"objectTypes":{"__ACCOUNT__":{"$schema":"http://json-schema.org/draft-03/schema","id":"__ACCOUNT__","type":"object","nativeType":"__ACCOUNT__","properties":{"__PASSWORD__":{"type":"string","nativeName":"__PASSWORD__","nativeType":"JAVA_TYPE_GUARDEDSTRING","flags":["NOT_READABLE","NOT_RETURNED_BY_DEFAULT"]},"__NAME__":{"type":"string","required":true,"nativeName":"__NAME__","nativeType":"string"}}}}}




Make a change and save

curl 'http://localhost:8080/openidm/system?_action=createFullConfig' -H 'Pragma: no-cache' -H 'Origin: http://localhost:8080' -H 'Accept-Encoding: gzip, deflate' -H 'Accept-Language: en-US,en;q=0.8' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.116 Safari/537.36' -H 'Content-Type: application/json' -H 'Accept: application/json, text/javascript, */*; q=0.01' -H 'Cache-Control: no-cache' -H 'X-Requested-With: XMLHttpRequest' -H 'Cookie: session-jwt=eyAidHlwIjogIkpXVCIsICJlbmMiOiAiQTEyOENCQ19IUzI1NiIsICJhbGciOiAiUlNBRVNfUEtDUzFfVjFfNSIgfQ.qfdRld26ddLcknJE4kQ-BX1mrbkdIWlTzUB4lalSIHdyCOtI3VPnsJsYsF9cV7d-xn6i7GZn2rzZHtUl7M-Ija73nEzg3Wcsgf716-hVXDiwdzMwY0rR1J26vd2MnFOJy7dO4ZZsrXS51Q8W9pFmBiK_yt6H4fU0L13rQ_1NjZY1QrFyyZN8VBerYHgfGfZfzAwZIKnXCJeq1yKZ37mUJghbElWG_Nxt1cpAIHrcaHvlL4Sr1q7-PqArNTkP-uhi5oglPfeiuFWoFfQcOR32FwUpjzzwFcInRQ4Va0R8quv59nIxbw-E115SEOZRkXaaUMjdSaBjaqlDBCJwE39UgA.L5jcopxbcjy-7c88OEs7RQ.Wir_Jagk2luod2leLW1kAJV4trlI4wE_yDq6eYaoLgrjJDLYkImyuv7XNCdsVpPnb0Fyprg2TlNjdrusL1JhcmQjTMt92rWzvMZiYjJlCJPhtvwwFhbc-CQ7iqbiskHl8mxzRv4ipDu3YUqy_z5piFIaP70PPnlslU3e46v0nYe-s2iudA5xc2P9crQ0mjgVCvQIK0msynbtxARYvvq1FexzsR_AdtpL9RR8gxkQqLANb977Z4GKjaPFgFr0fhZf2cN3bGNUfBP8qghwS0M2tFAppINMmxEYmBIMQqNCKUVll-PStxXV80908NHfG1j8DF0OkGwbw15cka5kpV9d554j3Dr9vaYVKBe4LLG0FZLMZTuqwcA4nZ0TQAYJf3h1ZAEtEHXQPnV33S9CR5-oFrrKeYVxCDbT7pQP0ScZhBgi0MdFo_6eJwa3ZaLSFIMZvntz9vNJ-QDjT8PNa1bh_O0akYDEDB74EdMjgHtjyGNVBprL9yPz5nA-qlQbz7ijzUf9OKj1E-jv--WIzwbGBWlYdG6W89Z8B1ZIZlC7oJw.YOG6UJNwjTiKKkJXyBR1wQ; i18next=en' -H 'Connection: keep-alive' -H 'Referer: http://localhost:8080/admin/' -H 'DNT: 1' --data-binary '{"_id":"provisioner.openicf/testcsv","connectorRef":{"systemType":"provisioner.openicf","bundleName":"org.forgerock.openicf.connectors.csvfile-connector","connectorName":"org.forgerock.openicf.csvfile.CSVFileConnector","displayName":"CSV File Connector","bundleVersion":"1.5.0.0"},"poolConfigOption":{"maxObjects":10,"maxIdle":10,"maxWait":150000,"minEvictableIdleTimeMillis":120000,"minIdle":1},"resultsHandlerConfig":{"enableNormalizingResultsHandler":true,"enableFilteredResultsHandler":true,"enableCaseInsensitiveFilter":false,"enableAttributesToGetSearchResultsHandler":true},"operationTimeout":{"CREATE":-1,"UPDATE":-1,"DELETE":-1,"TEST":-1,"SCRIPT_ON_CONNECTOR":-1,"SCRIPT_ON_RESOURCE":-1,"GET":-1,"RESOLVEUSERNAME":-1,"AUTHENTICATE":-1,"SEARCH":-1,"VALIDATE":-1,"SYNC":-1,"SCHEMA":-1},"configurationProperties":{"headerPassword":"password","headerName":"username","csvFile":"/var/tmp/test.csv","newlineString":"\n","headerUid":"uid","quoteCharacter":"\"","fieldDelimiter":",","syncFileRetentionCount":"4","readSchema":false},"name":"testcsv","enabled":true,"objectTypes":{"__ACCOUNT__":{"$schema":"http://json-schema.org/draft-03/schema","id":"__ACCOUNT__","type":"object","nativeType":"__ACCOUNT__","properties":{"__PASSWORD__":{"type":"string","nativeName":"__PASSWORD__","nativeType":"JAVA_TYPE_GUARDEDSTRING","flags":["NOT_READABLE","NOT_RETURNED_BY_DEFAULT"]},"__NAME__":{"type":"string","required":true,"nativeName":"__NAME__","nativeType":"string"}}}}}' --compressed




Get test again

curl 'http://localhost:8080/openidm/config/provisioner.openicf/testcsv' -H 'Pragma: no-cache' -H 'DNT: 1' -H 'Accept-Encoding: gzip, deflate, sdch' -H 'Accept-Language: en-US,en;q=0.8' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.116 Safari/537.36' -H 'Content-Type: application/json' -H 'Accept: application/json, text/javascript, */*; q=0.01' -H 'Cache-Control: no-cache' -H 'X-Requested-With: XMLHttpRequest' -H 'Cookie: session-jwt=eyAidHlwIjogIkpXVCIsICJlbmMiOiAiQTEyOENCQ19IUzI1NiIsICJhbGciOiAiUlNBRVNfUEtDUzFfVjFfNSIgfQ.qfdRld26ddLcknJE4kQ-BX1mrbkdIWlTzUB4lalSIHdyCOtI3VPnsJsYsF9cV7d-xn6i7GZn2rzZHtUl7M-Ija73nEzg3Wcsgf716-hVXDiwdzMwY0rR1J26vd2MnFOJy7dO4ZZsrXS51Q8W9pFmBiK_yt6H4fU0L13rQ_1NjZY1QrFyyZN8VBerYHgfGfZfzAwZIKnXCJeq1yKZ37mUJghbElWG_Nxt1cpAIHrcaHvlL4Sr1q7-PqArNTkP-uhi5oglPfeiuFWoFfQcOR32FwUpjzzwFcInRQ4Va0R8quv59nIxbw-E115SEOZRkXaaUMjdSaBjaqlDBCJwE39UgA.L5jcopxbcjy-7c88OEs7RQ.Wir_Jagk2luod2leLW1kAJV4trlI4wE_yDq6eYaoLgrjJDLYkImyuv7XNCdsVpPnb0Fyprg2TlNjdrusL1JhcmQjTMt92rWzvMZiYjJlCJPhtvwwFhbc-CQ7iqbiskHl8mxzRv4ipDu3YUqy_z5piFIaP70PPnlslU3e46v0nYe-s2iudA5xc2P9crQ0mjgVCvQIK0msynbtxARYvvq1FexzsR_AdtpL9RR8gxkQqLANb977Z4GKjaPFgFr0fhZf2cN3bGNUfBP8qghwS0M2tFAppINMmxEYmBIMQqNCKUVll-PStxXV80908NHfG1j8DF0OkGwbw15cka5kpV9d554j3Dr9vaYVKBe4LLG0FZLMZTuqwcA4nZ0TQAYJf3h1ZAEtEHXQPnV33S9CR5-oFrrKeYVxCDbT7pQP0ScZhBgi0MdFo_6eJwa3ZaLSFIMZvntz9vNJ-QDjT8PNa1bh_O0akYDEDB74EdMjgHtjyGNVBprL9yPz5nA-qlQbz7ijzUf9OKj1E-jv--WIzwbGBWlYdG6W89Z8B1ZIZlC7oJw.YOG6UJNwjTiKKkJXyBR1wQ; i18next=en' -H 'Connection: keep-alive' -H 'Referer: http://localhost:8080/admin/' --compressed


